schema: '2.0'
stages:
  prepare:
    cmd: python faction-picker-bot\make_data.py --params params.yaml
    deps:
    - path: faction-picker-bot\creatingVPdata.ipynb
      md5: bf8c884a44f23f55a61222eb9d880c62
      size: 148883
    params:
      params.yaml:
        prepare:
          folderlocation: D:/PycharmProjects/TerraBot/terra-mystica
          vp-data-dir: D://PycharmProjects/TerraBot/data/faction-picker-bot/vpdata.csv
          feature-data-dir: D://PycharmProjects/TerraBot/data/faction-picker-bot/featdata.csv
          player-drop-dir: D://PycharmProjects/TerraBot/data/faction-picker-bot/unfinishedgames.csv
    outs:
    - path: data\faction-picker-bot\featdata.csv
      md5: 5dda00d27d92c9ac4c288cfcb5895e00
      size: 18096094
    - path: data\faction-picker-bot\vpdata.csv
      md5: b532b6155ebb08303c7fa51b7f5346a1
      size: 5433991
  prepare-step2:
    cmd: python faction-picker-bot\create_individual_datasets.py --params params.yaml
    deps:
    - path: faction-picker-bot\create_individual_datasets.py
      md5: 10723318f05e9075d994357bed13907a
      size: 1233
    params:
      params.yaml:
        prepare:
          folderlocation: D:/PycharmProjects/TerraBot/terra-mystica
          vp-data-dir: D://PycharmProjects/TerraBot/data/faction-picker-bot/vpdata.csv
          feature-data-dir: D://PycharmProjects/TerraBot/data/faction-picker-bot/featdata.csv
          player-drop-dir: D://PycharmProjects/TerraBot/data/faction-picker-bot/unfinishedgames.csv
        prepare-step2:
          pickle-dir: D://PycharmProjects/TerraBot/data/faction-picker-bot/each-faction-data.pkl
    outs:
    - path: data\faction-picker-bot\each-faction-data.pkl
      md5: f2fbdce67b5bd6c5f2867638f04b8556
      size: 219407019
  train:
    cmd: python faction-picker-bot\train_models.py --params params.yaml
    deps:
    - path: faction-picker-bot\train_models.py
      md5: 7257239bc8e08c8fec70841e3e925200
      size: 2119
    params:
      params.yaml:
        training:
          model-dir: data/faction-picker-bot/models/
          num-rounds: 500
          num-leaves: 300
          train-proportion: 0.8
          val-proportion: 0.1
          test-proportion: 0.1
    outs:
    - path: data\faction-picker-bot\models\
      md5: ef3040bb1fd4046dc8a524e8b13d8763.dir
      size: 184598659
      nfiles: 14
  create-metrics:
    cmd: python faction-picker-bot\create_metrics.py --params params.yaml
    deps:
    - path: faction-picker-bot\create_metrics.py
      md5: 4aa68d40083c9bc985f8d63f571ec3d5
      size: 3039
    outs:
    - path: data\faction-picker-bot\metrics\
      md5: accfa3991bdcee5a8a1de3ae729f9855.dir
      size: 462875
      nfiles: 14
    - path: data\faction-picker-bot\model_metrics.json
      md5: 4aaf5f640369a6c7de9bad73c9280c56
      size: 444
